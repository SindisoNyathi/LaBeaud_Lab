library(data.table)
setwd("C:/Users/amykr/Box Sync/Amy Krystosik's Files/Data Managment/redcap/ro1 lab results long") # Always set where you're grabbing stuff from
log<-read.csv("R01CHIKVDENVProject_Logging_2017-07-06_1732.csv", header = TRUE, sep = ",",   fill = TRUE )
colnames(log)[4] <- "list"
#logSubset <- log[grep("Updated", log$Action),]
logSubset<-filter(log, grepl('Update', Action))
logSubset<-filter(logSubset, grepl('CC0008006', Action))
logSubset<-filter(logSubset, grepl('sample_igg_denv_stfd', list))


variables <- c("person_id", "redcap_event_name", "cohort", "site", "city", "other_village_or_hospital", "house_number", "child_number", "participant_status", "patient_information_complete", "serum_kenya", "serum_kenya_num", "serum_stanford", "samples_elisa_complete", "trizol_kenya", "trizol_stanford", "cdna_stanford", "cdna_kenya", "pax_gene_stanford", "tempus_tube_stanford", "samples_complete", "name_tech_igg_denv_stfd", "sample_igg_denv_stfd", "aliquot_id_igg_denv_stfd", "date_tested_igg_denv_stfd", "antigen_used_igg_denv_stfd", "other_antigen_igg_denv_stfd", "pos_control_igg_denv_stfd", "neg_control_igg_denv_stfd", "value_igg_denv_stfd", "result_igg_denv_stfd", "notes_igg_denv_stfd", "igg_denv_stanford_complete", "name_tech_igg_denv_kenya", "sample_igg_denv_kenya", "aliquot_id_igg_denv_kenya", "date_tested_igg_denv_kenya", "antigen_used_igg_denv_kenya", "other_antigen_igg_denv_kenya", "pos_control_igg_denv_kenya", "neg_control_igg_denv_kenya", "value_igg_denv_kenya", "result_igg_denv_kenya", "notes_igg_denv_kenya", "igg_denv_kenya_complete", "name_tech_igg_chikv_stfd", "sample_igg_chikv_stfd", "aliquot_id_igg_chikv_stfd", "date_tested_igg_chikv_stfd", "antigen_used_igg_chikv_stfd", "other_antigen_igg_chikv_stfd", "pos_control_igg_chikv_stfd", "neg_control_igg_chikv_stfd", "value_igg_chikv_stfd", "result_igg_chikv_stfd", "notes_igg_chikv_stfd", "igg_chikv_stanford_complete", "name_tech_igg_chikv_kenya", "sample_igg_chikv_kenya", "aliquot_id_igg_chikv_kenya", "date_tested_igg_chikv_kenya", "antigen_used_igg_chikv_kenya", "other_antigen_igg_chikv_kenya", "pos_control_igg_chikv_kenya", "neg_control_igg_chikv_kenya", "value_igg_chikv_kenya", "result_igg_chikv_kenya", "notes_igg_chikv_kenya", "igg_chikv_kenya_complete", "name_tech_pcr_denv_stfd", "sample_pcr_denv_stfd", "aliquot_id_pcr_denv_stfd", "date_tested_pcr_denv_stfd", "result_pcr_denv_stfd", "serotype_pcr_denv_stfd___1", "serotype_pcr_denv_stfd___2", "serotype_pcr_denv_stfd___3", "serotype_pcr_denv_stfd___4", "serotype_pcr_denv_stfd___99", "pos_control_value_pcr_denv_stfd", "neg_control_value_pcr_denv_stfd", "value_pcr_denv_1_stfd", "value_pcr_denv_2_stfd", "notes_pcr_denv_stfd", "pcr_denv_stanford_complete", "name_tech_pcr_chikv_stfd", "sample_pcr_chikv_stfd", "aliquot_id_pcr_chikv_stfd", "date_tested_pcr_chikv_stfd", "result_pcr_chikv_stfd", "pos_control_value_pcr_chikv_stfd", "neg_control_value_pcr_chikv_stfd", "value_pcr_chikv_1_stfd", "value_pcr_chikv_2_stfd", "notes_pcr_chikv_stfd", "pcr_chikv_stanford_complete", "name_tech_pcr_denv_kenya", "sample_pcr_denv_kenya", "aliquot_id_pcr_denv_kenya", "date_tested_pcr_denv_kenya", "result_pcr_denv_kenya", "serotype_pcr_denv_kenya___1", "serotype_pcr_denv_kenya___2", "serotype_pcr_denv_kenya___3", "serotype_pcr_denv_kenya___4", "serotype_pcr_denv_kenya___99", "pos_control_value_pcr_denv_kenya", "neg_control_value_pcr_denv_kenya", "value_pcr_denv_1_kenya", "value_pcr_denv_2_kenya", "notes_pcr_denv_kenya", "pcr_denv_kenya_complete", "name_tech_pcr_chikv_kenya", "sample_pcr_chikv_kenya", "aliquot_id_pcr_chikv_kenya", "date_tested_pcr_chikv_kenya", "result_pcr_chikv_kenya", "pos_control_value_pcr_chikv_kenya", "neg_control_value_pcr_chikv_kenya", "value_pcr_chikv_1_kenya", "value_pcr_chikv_2_kenya", "notes_pcr_chikv_kenya", "pcr_chikv_kenya_complete", "name_tech_microscopy_malaria_kenya", "sample_microscopy_malaria_kenya", "aliquot_id_microscopy_malaria_kenya", "date_collected_microscopy_malaria_kenya", "date_tested_microscopy_malaria_kenya", "antigen_used_microscopy_malaria_kenya___1", "antigen_used_microscopy_malaria_kenya___2", "antigen_used_microscopy_malaria_kenya___3", "antigen_used_microscopy_malaria_kenya___4", "antigen_used_microscopy_malaria_kenya___5", "antigen_used_microscopy_malaria_kenya___6", "antigen_used_microscopy_malaria_kenya___98", "antigen_used_microscopy_malaria_kenya___99", "antigen_used_microscopy_malaria_kenya___100", "other_antigen_microscopy_malaria_kenya", "result_microscopy_malaria_kenya", "microscopy_malaria_pf_kenya___1", "microscopy_malaria_po_kenya___1", "microscopy_malaria_pm_kenya___1", "microscopy_malaria_pv_kenya___1", "microscopy_malaria_ni_kenya___1", "density_microscpy_pf_kenya", "gametocytes_microscpy_pf_kenya", "density_microscpy_po_kenya", "gametocytes_microscpy_po_kenya", "density_microscpy_pm_kenya", "gametocytes_microscpy_pm_kenya", "density_microscpy_pv_kenya", "gametocytes_microscpy_pv_kenya", "density_microscpy_ni_kenya", "gametocytes_microscpy_ni_kenya", "malaria_treatment_kenya___1", "malaria_treatment_kenya___2", "malaria_treatment_kenya___3", "malaria_treatment_kenya___4", "malaria_treatment_kenya___5", "malaria_treatment_kenya___98", "malaria_treatment_other_kenya", "notes_microscopy_malaria_kenya", "microscopy_malaria_kenya_complete", "aliquot_id_igm_denv_kenya", "name_tech_igm_denv_kenya", "date_tested_igm_denv_kenya", "antigen_used_igm_denv_kenya", "other_antigen_igm_denv_kenya", "value_igm_denv_kenya", "result_igm_denv_kenya", "notes_igm_denv_kenya", "igm_denv_kenya_complete", "aliquot_id_igm_chikv_kenya", "other_antigen_igm_chikv_kenya", "name_tech_igm_chikv_kenya", "date_tested_igm_chikv_kenya", "antigen_used_igm_chikv_kenya", "value_igm_chikv_kenya", "result_igm_chikv_kenya", "notes_igm_chikv_kenya", "igm_chikv_kenya_complete", "aliquot_id_igm_denv_stfd", "name_tech_igm_denv_stfd", "date_tested_igm_denv_stfd", "antigen_used_igm_denv_stfd", "other_antigen_igm_denv_stfd", "value_igm_denv_stfd", "result_igm_denv_stfd", "notes_igm_denv_stfd", "igm_denv_stanford_complete", "aliquot_id_igm_chikv_stfd", "other_antigen_igm_chikv_stfd", "name_tech_igm_chikv_stfd", "date_tested_igm_chikv_stfd", "antigen_used_igm_chikv_stfd", "value_igm_chikv_stfd", "result_igm_chikv_stfd", "notes_igm_chikv_stfd", "igm_chikv_stanford_complete", "aliquot_id_rdt_denv_kenya", "date_collected_rdt_denv_kenya", "name_tech_rdt_denv_kenya", "date_tested_rdt_denv_kenya", "antigen_used_rdt_denv_kenya", "other_antigen_rdt_denv_kenya", "value_rdt_denv_kenya", "result_rdt_denv_kenya", "notes_rdt_denv_kenya", "rdt_denv_kenya_complete", "aliquot_id_rdt_malaria_kenya", "date_collected_rdt_malaria_kenya", "name_tech_rdt_malaria_kenya", "date_tested_rdt_malaria_kenya", "antigen_used_rdt_malaria_kenya", "other_antigen_rdt_malaria_kenya", "value_rdt_malaria_kenya", "result_rdt_malaria_kenya", "notes_rdt_malaria_kenya", "rdt_malaria_kenya_complete", "aliquot_id_other_kenya", "date_tested_other_kenya", "assay_other_other_kenya", "name_tech_other_kenya", "antigen_used_other_kenya", "other_antigen_other_kenya", "date_collected_other_kenya", "value_other_kenya", "result_other_kenya", "notes_other_kenya", "other_kenya_complete", "aliquot_id_other_stfd", "date_tested_other_stfd", "assay_other_other_stfd", "name_tech_other_stfd", "antigen_used_other_stfd", "other_antigen_other_stfd", "date_collected_other_stfd", "value_other_stfd", "result_other_stfd", "notes_other_stfd", "other_stanford_complete", "submissiondate", "study_id_aic", "start_aic", "end_aic", "today_aic", "deviceid_aic", "subscriberid_aic", "hospital_site", "hcc_participant", "hcc_id_aic", "visit_type", "village_aic", "interviewer_name_aic", "oth_interviewer_name_aic", "interview_date_aic", "child_surname", "child_first_name", "child_second_name", "child_third_name", "child_fourth_name", "mother_surname", "mother_first_name", "mother_second_name", "mother_third_name", "mother_fourth_name", "father_surname", "father_first_name", "father_second_name", "father_third_name", "father_fourth_name", "informant_relationship", "oth_informant_relationship", "date_of_birth_aic", "gender_aic", "phone_number_aic", "occupation_aic", "oth_child_occupation_aic", "kid_highest_level_education_aic", "oth_educ_level_aic", "mom_highest_level_education_aic", "oth_mom_educ_level_aic", "roof_type", "oth_roof_type", "latrine_type", "oth_latrine_type", "floor_type", "oth_floor_type", "drinking_water_source", "light_source", "oth_light_source", "windows", "number_windows", "rooms_in_house", "number_people_in_house", "number_siblings_aic", "number_sleeping_same_room", "telephone", "radio", "television", "bicycle", "motor_vehicle", "domestic_worker", "fever_contact", "outdoor_activity_aic", "mosquito_bites_aic", "mosquito_coil_aic", "mosquito_net_aic", "child_travel", "where_travel_aic", "stay_overnight_aic", "ever_hospitalized_aic", "setofpast_med_historypast_hospitalization", "ever_had_surgery", "why_surgey", "when_surgery", "term", "breast_fed", "how_long", "oth_how_long", "immunizations", "yellow_fever", "when_vaccinated_yellowfever", "japanese_encephalitis", "when_vaccinated_japenceph", "past_medical_history", "oth_past_medical_history", "currently_taking_medications", "current_medications", "oth_current_medications", "pregnant", "currently_sick", "date_symptom_onset", "symptoms_aic", "oth_symptoms_aic", "temp", "child_height_aic", "child_weight_aic", "head_circumference", "heart_rate", "resp_rate", "bp_available", "systolic_pressure", "disastolic_pressure", "pulse_ox", "can_visual_acuity", "visual_acuity_left", "visual_acuity_right", "head_neck_exam", "clinician_notes_headneck", "chest", "clinician_notes_chest", "heart", "clinician_notes_heart", "abdomen", "location_abdomen_tenderness", "clinician_notes_abdomen", "nodes", "oth_nodes", "clinician_notes_nodes", "joints", "joint_location", "clinician_notes_joints", "skin", "oth_skin", "clinician_notes_skin", "neuro", "oth_neuro", "clinician_notes_neuro", "tourniquet_test", "mal_test", "oth_mal_test", "malaria_results", "rdt_results", "labs_ordered", "oth_labs_ordered", "wbc", "neutrophils", "lymphocytes", "monocytes", "eosinophils", "hb_hemogram", "mcv", "platelets", "hemogram_specify_other", "hb_result", "hiv_result", "ua_result", "abnormal_ua", "stool_result", "stool_specify_other", "widal_result", "sickle_result", "other_labs_ordered", "other_labs_results", "primary_diagnosis", "oth_primary_diagnosis", "bacteria_dx", "secondary_diagnosis", "oth_secondary_diagnosis", "sec_bact_dx", "stage_of_disease", "oth_stage_of_disease", "health_impacts", "oth_health_impacts", "meds_prescribed", "oth_meds_prescribed", "outcome", "oth_outcome", "outcome_hospitalized", "outcome_where_hospitalized", "oth_outcome_where_hospitalized", "outcome_when_hospitalized", "key", "version", "parent_key", "key_aic_merged_past_med_history_past_hospitalization", "setofpast_hospitalization", "number_hospitalizations_aic", "reason_hospitalized_1_aic", "when_hospitalized_1_aic", "where_hospitalized_1_aic", "oth_where_hospitalized_1_aic", "duration_hospitalized_1_aic", "reason_hospitalized_2_aic", "when_hospitalized_2_aic", "where_hospitalized_2_aic", "oth_where_hospitalized_2_aic", "duration_hospitalized_2_aic", "reason_hospitalized_3_aic", "when_hospitalized_3_aic", "where_hospitalized_3_aic", "oth_where_hospitalized_3_aic", "duration_hospitalized_3_aic", "reason_hospitalized_4_aic", "when_hospitalized_4_aic", "where_hospitalized_4_aic", "oth_where_hospitalized_4_aic", "duration_hospitalized_4_aic", "reason_hospitalized_5_aic", "when_hospitalized_5_aic", "where_hospitalized_5_aic", "oth_where_hospitalized_5_aic", "duration_hospitalized_5_aic", "aic_merged_complete", "study_id", "start", "end", "today", "deviceid", "subscriberid", "phonenumber", "village", "interviewer_name", "oth_interviewer_name", "interview_date", "hcc_id", "house_id", "gps_lat", "gps_long", "child_individual_id", "follow_up_visit_num", "c_surname", "c_f_name", "c_s_name", "c_t_name", "c_fth_name", "date_of_birth", "age_calc", "gender", "child_height", "child_weight", "phone_number", "occupation", "oth_occupation", "kid_highest_level_education", "oth_kid_educ_level", "mom_highest_level_education", "oth_mom_educ_level", "number_siblings", "travel", "where_travel", "stay_overnight", "outdoor_activity", "time_outdoors", "mosquito_bite_frequency", "avoid_mosquitoes", "repellent", "mosquito_coil", "mosquito_net", "mosquito_bites", "mosquitoes_day", "mosquitoes_night", "water_collection", "type_water_collection", "home_lifestyle_changes", "illness_today", "number_illnesses", "symptoms", "oth_fever_symptoms", "duration", "seek_medical_care", "type_medical_care", "hospital", "oth_where_med_seek", "hospitalized", "number_hospitalizations", "reason_hospitalized_1", "when_hospitalized_1", "where_hospitalized_1", "oth_where_hospitalized_1", "duration_hospitalized_1", "reason_hospitalized_2", "when_hospitalized_2", "where_hospitalized_2", "oth_where_hospitalized_2", "duration_hospitalized_2", "reason_hospitalized_3", "when_hospitalized_3", "where_hospitalized_3", "oth_where_hospitalized_3", "duration_hospitalized_3", "reason_hospitalized_4", "when_hospitalized_4", "where_hospitalized_4", "oth_where_hospitalized_4", "duration_hospitalized_4", "reason_hospitalized_5", "when_hospitalized_5", "where_hospitalized_5", "oth_where_hospitalized_5", "duration_hospitalized_5", "status", "hcc_merged_complete", "pedsql_idno", "pedsql_date", "pedsql_reporttype", "pedsql_agegroup", "age_group_other", "pedsql_walk", "pedsql_run", "pedsql_play", "pedsql_lift", "pedsql_work", "pedsql_fear", "pedsql_sad", "pedsql_angry", "pedsql_scared", "pedsql_agreement", "pedsql_rejected", "pedsql_bullied", "pedsql_understand", "pedsql_forget", "pedsql_schoolhomework", "pedsql_comments", "pedsql_data_complete", "dem_available", "studyid_hcc", "studyid_demodata", "dem_interviewdate", "dem_village", "dem_othvillage", "dem_interviewername", "dem_othinterviewername", "dem_compstatus", "dem_compnumber", "dem_compound_latitude", "dem_compound_longitude", "dem_compound_altitude", "dem_compound_accuracy", "dem_hoc_surname", "dem_hoc_fname", "dem_hoc_mname", "dem_hoc_lname", "dem_hoc_othername", "dem_hoc_studyid", "dem_hoc_gender", "dem_hoc_dob", "dem_hoc_age", "dem_hoc_category", "dem_hoc_language", "dem_hoc_othlanguage", "dem_hoc_tribe", "dem_hoc_othtribe", "dem_hoc_religion", "dem_hoc_othreligion", "dem_hoc_married", "dem_hoc_other_married", "dem_hoc_sleep_status", "dem_house_number", "dem_house_latitude", "dem_house_longitude", "dem_house_altitude", "dem_house_accuracy", "dem_house_pic", "dem_hoh_surname", "dem_hoh_fname", "dem_hoh_mname", "dem_hoh_lname", "dem_hoh_othername", "dem_hoh_studyid", "dem_hoh_gender", "dem_hoh_dob", "dem_hoh_age", "dem_hoh_category", "dem_hoh_language", "dem_hoh_othlanguage", "dem_hoh_tribe", "dem_hoh_othtribe", "dem_hoh_religion", "dem_hoh_othreligion", "dem_hoh_married", "dem_hoh_other_married", "dem_hoh_children", "dem_hoh_num_children", "dem_hoh_house", "dem_hoh_other_house", "dem_hoh_sleep_here", "dem_hoh_live_here", "dem_hoh_district_years", "dem_hoh_house_years", "dem_hoh_rooms", "dem_hoh_bedrooms", "dem_hoh_people_per_room", "dem_hoh_windows", "dem_hoh_screens", "dem_sleep_close_window", "dem_hoh_own_bednet", "dem_hoh_number_bednet", "dem_hoh_sleep_bednet", "dem_hoh_kids_sleep_bednet", "dem_hoh_mosquito_control", "dem_hoh_communal_tv", "dem_hoh_water_collection", "dem_hoh_floor", "dem_hoh_other_floor", "dem_hoh_roof", "dem_hoh_other_roof", "dem_cooking_fuel", "dem_other_cooking_fuel", "dem_water_source", "dem_other_water_source", "dem_light_source", "dem_other_light_source", "dem_land_ownership", "dem_other_land", "dem_keep_livestock", "dem_livestock_location", "dem_which_other_livestock", "dem_which_livestock", "dem_attend_livestock", "dem_livestock_contact", "dem_own_telephone", "dem_own_radio", "dem_own_tv", "dem_own_bicycle", "dem_motor_vehicle", "dem_domestic_worker", "dem_toilet_latrine", "dem_other_toilet_latrine", "dem_latrine_location", "dem_latrine_location_other", "dem_latrine_distance", "dem_other_latrine_distance", "dem_child_fname")
variables2<- c("dem_child_lname", "dem_child_othername", "dem_child_familyname", "dem_child_relationship", "dem_relationship_other", "dem_chid_individualid", "dem_child_dob", "dem_child_age", "dem_child_category", "dem_child_status", "dem_child_gender", "dem_school_name", "dem_live_here", "dem_sleep_here", "dem_note", "demography_data_complete","dem_child_mname")
??cyjwing

logSubset<-logSubset[List.of.Data.Changes.OR.Fields.Exported %like% "CC0008006"]
logSubset <- logSubset[grep("CC0008006", logSubset$List.of.Data.Changes.OR.Fields.Exported),]

Action_split<-strsplit(logSubset$Action, ", ")


x <- c(as = "asfef", qu = "qwerty", "yuiop[", "b", "stuff.blah.yech")
# split x on the letter e
y<-strsplit(, ",")